<template>
    <lightning-card title="Account Search" icon-name="custom:custom14">
      <div onkeyup={handleKeyUp}>
         <lightning-input name="search"
                          label="Search Accounts"
                          type="search"
                          placeholder="Type min of 3 characters"
         >
         </lightning-input>
     </div>
     <template if:true={showContactCreate}>
      <lightning-button slot="actions" 
                        variant="brand" 
                        label="Create Contact" 
                        title="Create Contact" 
                        onclick={handleContactCreate} >
      </lightning-button>
     </template>
     <template  if:true={isLoading} 
                style="position:relative" 
                class="spinner-padding">
         <lightning-spinner   variant="brand" 
                              alternative-text="Loading Data.."     
                              size="medium">
         </lightning-spinner>
     </template>
     <template if:false={isLoading}>
        <template if:true={data}>
            <template if:false={dataNotFound}>
               <lightning-datatable 
                     key-field="Id"
                     data={data}
                     columns={columns}
                     onrowselection={handleRowSelection}
               >
               </lightning-datatable> 
            </template>
            <template if:true={dataNotFound}>
               <h3>No Accounts Found with {searchKeyword}</h3>
            </template>
        </template>
     </template>
     <template if:true={showContactForm}>
         <section role="dialog" 
                  tabindex="-1" 
                  class="slds-modal slds-fade-in-open slds-modal_large" 
                  aria-labelledby="modal-heading-01" 
                  aria-modal="true" 
                  aria-describedby="modal-content-id-1">
            <div class="slds-modal__container">
               <header class="slds-modal__header">
                  <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Create Contact Component</h2>
               </header>

               <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                  <lightning-input type="text" label="Last Name" name="lastName"  onchange={handleInputChange}></lightning-input>
                  <lightning-input type="text" label="First Name" name="firstName" onchange={handleInputChange}></lightning-input>   
               </div>

               <footer class="slds-modal__footer">
                  <button class="slds-button slds-button_neutral" onclick={handleCancelClick}>Cancel</button>
                  <button class="slds-button slds-button_brand" onclick={handleSaveClick}>Save</button>
               </footer>
            </div>
         </section>
         <div class="slds-backdrop slds-backdrop_open"></div>
     </template>
    </lightning-card>
</template>